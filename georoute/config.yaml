# GeoRoute Centralized Configuration
# All settings are managed from this single file

# Route Generation Method
route_generation:
  # Method: "gemini_image" - Gemini 3 Pro Image draws routes directly on satellite imagery
  method: "gemini_image"
  # Number of routes to generate (2 = better quality, 3 = more options)
  num_routes: 2

# Gemini AI Models
gemini:
  image_model: "gemini-3-pro-image-preview"  # For drawing routes on satellite images (Nano Banana Pro)
  text_model: "gemini-2.5-flash"   # For analysis and reports

# Route Generation Prompt
route_prompt: |
  Edit this satellite image. Draw exactly 2 infantry foot patrol routes from BLUE marker to RED marker.

  DRAWING RULES:
  - Draw smooth, curved lines that follow natural walking paths
  - NEVER cross through buildings - always go AROUND them
  - Follow roads, sidewalks, alleys, and open ground
  - Lines should curve naturally like a person walking, not straight angular segments
  - Use cover: stay close to walls, trees, and shadows where possible

  ORANGE LINE (Primary Route):
  - Most direct path while avoiding obstacles
  - Prefer main roads and open paths
  - Single continuous curved line from blue to red

  GREEN LINE (Stealth Route):
  - Longer, more concealed path
  - Use back alleys, building shadows, vegetation
  - Avoid open areas, stay near cover
  - Single continuous curved line from blue to red

  CRITICAL:
  - Routes must NEVER pass through any building or structure
  - Draw natural curved paths, not straight lines or sharp angles
  - Each route is ONE continuous line only - no branches or loops
  
    
# Tactical Analysis Prompt (for advanced analytics)
analysis_prompt: |
  Analyze this tactical situation satellite image showing infantry approach routes.

  Context:
  - Friendly forces: {num_soldiers} units (at blue marker)
  - Enemy position: {num_enemies} units (at red marker)
  - Two routes shown: ORANGE (balanced), GREEN (stealth/safest)

  Provide tactical analysis in JSON format:
  {{
    "recommended_approach": {{
      "route": "green or orange",
      "reasoning": "Why this route is recommended"
    }},
    "timing_suggestions": {{
      "optimal_time": "dawn/dusk/night/day",
      "reasoning": "Why this timing"
    }},
    "equipment_recommendations": [
      {{"item": "Equipment", "reason": "Why needed"}}
    ],
    "risk_zones": [
      {{"location": "Description", "mitigation": "How to reduce risk"}}
    ],
    "enemy_analysis": {{
      "weakness": "Tactical weakness to exploit"
    }},
    "mission_summary": "2-3 sentence tactical summary"
  }}

# Route Evaluation Prompt (for user-drawn route analysis)
route_evaluation_prompt: |
  Analyze this satellite image showing a user-planned infantry patrol route.
  The BLUE DASHED LINE shows the proposed route from start to end.

  Unit Composition:
  - Squad size: {squad_size} soldiers
  - Riflemen: {riflemen}
  - Snipers: {snipers}
  - Support/MG: {support}
  - Medics: {medics}

  YOUR TASK: Evaluate the route and mark optimal tactical positions on the image.

  DRAW THESE MARKERS ON THE IMAGE:
  1. GREEN CIRCLES (size 15px) - Cover positions where soldiers can take shelter
  2. YELLOW TRIANGLES (size 20px) - Overwatch/sniper positions with good sightlines
  3. ORANGE SQUARES (size 15px) - Rally points for regrouping
  4. RED X MARKS (size 20px) - Danger zones that need caution (exposed areas, chokepoints)
  5. WHITE CROSS with red outline (size 18px) - Suggested medic station position

  IMPORTANT:
  - Keep the original BLUE route line clearly visible
  - Place markers NEAR the route, not on random locations
  - Consider building shadows, walls, and vegetation for cover
  - Snipers need elevated positions or long sightlines
  - Rally points should be concealed but accessible
  - Mark ALL exposed sections as danger zones

  Also return this JSON analysis (as text after the image):
  ```json
  {{
    "segments": [
      {{"index": 0, "risk": "low", "description": "Good cover along wall", "suggestions": ["Stay close to building"]}},
      {{"index": 1, "risk": "high", "description": "Open courtyard exposure", "suggestions": ["Move quickly", "Use smoke"]}}
    ],
    "positions": [
      {{"type": "overwatch", "description": "Rooftop corner with view of courtyard", "for_unit": "sniper"}},
      {{"type": "cover", "description": "Behind concrete barrier", "for_unit": "riflemen"}},
      {{"type": "rally", "description": "Alley between buildings", "for_unit": "all"}},
      {{"type": "danger", "description": "Wide open intersection", "for_unit": null}},
      {{"type": "medic", "description": "Protected alcove near route midpoint", "for_unit": "medic"}}
    ],
    "overall": "Brief 2-3 sentence assessment of the route quality and main concerns"
  }}
  ```

# Marker Settings
markers:
  size: 6  # Smaller markers for cleaner route visualization
  start_color: [0, 100, 255]  # Blue
  end_color: [255, 50, 50]    # Red
  outline_color: [255, 255, 255]
  outline_width: 2

# API Settings
api:
  # Default timeout for external API calls (milliseconds)
  timeout_ms: 30000
  # CORS settings
  cors_allow_origins: ["*"]

# Geographic Restrictions
geo:
  # Gulf Cooperation Council countries bounding box
  gcc_bounds:
    north: 32.0
    south: 12.0
    east: 60.0
    west: 34.0
