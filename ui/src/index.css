@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* GeoRoute Brand Design System

   Brand Colors:
   - Dark Green (Primary): #29504D - RGB(41, 80, 77)
   - Light Green (Accent): #00A05A - RGB(0, 160, 90)
   - Grey (Neutral): #B2BEC4 - RGB(178, 190, 196)
   - White: #FFFFFF
*/
@layer base {
  :root {
    /* Core backgrounds - dark theme with brand tones */
    --background: 175 15% 8%;
    --background-deep: 175 15% 5%;
    --background-panel: 175 12% 6%;
    --background-elevated: 175 10% 12%;

    /* Foregrounds */
    --foreground: 0 0% 95%;
    --foreground-muted: 200 10% 60%;
    --foreground-accent: 154 100% 35%;

    /* Primary - Dark Green #29504D */
    --primary: 175 32% 24%;
    --primary-foreground: 0 0% 100%;
    --primary-glow: 175 40% 30%;

    /* Secondary - grey surfaces */
    --secondary: 200 10% 15%;
    --secondary-foreground: 200 10% 85%;

    /* Accent - Light Green #00A05A */
    --accent: 154 100% 31%;
    --accent-foreground: 0 0% 100%;

    /* Status colors */
    --success: 154 100% 31%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --danger: 0 72% 50%;
    --danger-foreground: 0 0% 100%;
    --critical: 0 80% 40%;

    /* Route classification colors - Improved visibility */
    --route-safe: 154 100% 35%;
    --route-moderate: 45 100% 50%;
    --route-high: 25 100% 50%;
    --route-critical: 0 72% 50%;

    /* Difficulty colors */
    --difficulty-easy: 154 100% 35%;
    --difficulty-moderate: 45 100% 50%;
    --difficulty-difficult: 25 100% 50%;
    --difficulty-very-difficult: 0 85% 55%;
    --difficulty-impassable: 0 90% 35%;

    /* UI elements */
    --card: 175 10% 10%;
    --card-foreground: 0 0% 95%;
    --popover: 175 10% 10%;
    --popover-foreground: 0 0% 95%;
    --muted: 200 10% 15%;
    --muted-foreground: 200 15% 55%;
    --destructive: 0 72% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 175 15% 20%;
    --input: 175 10% 12%;
    --ring: 154 100% 31%;
    --radius: 0.375rem;

    /* Sidebar - brand colored */
    --sidebar-background: 175 12% 6%;
    --sidebar-foreground: 0 0% 95%;
    --sidebar-primary: 175 32% 24%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 175 10% 12%;
    --sidebar-accent-foreground: 0 0% 90%;
    --sidebar-border: 175 15% 20%;
    --sidebar-ring: 154 100% 31%;

    /* Chart colors - brand aligned */
    --chart-1: 175 32% 24%;
    --chart-2: 154 100% 31%;
    --chart-3: 200 15% 55%;
    --chart-4: 38 92% 50%;
    --chart-5: 0 72% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html, body, #root {
    @apply h-full w-full overflow-hidden;
  }
  
  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  /* Monospace for coordinates and data */
  .font-mono, code, .coordinates {
    font-family: 'JetBrains Mono', monospace;
  }
}

@layer components {
  /* Tactical panel styling */
  .tactical-panel {
    @apply bg-[hsl(var(--background-panel))] border border-border/50 rounded-md;
    box-shadow: 
      0 0 0 1px hsl(var(--border) / 0.3),
      inset 0 1px 0 hsl(var(--foreground) / 0.03),
      0 4px 12px hsl(var(--background-deep) / 0.5);
  }
  
  /* Glowing accent border */
  .glow-border {
    box-shadow: 
      0 0 0 1px hsl(var(--primary) / 0.5),
      0 0 15px hsl(var(--primary-glow) / 0.15);
  }
  
  /* Status badge styles */
  .badge-easy {
    @apply bg-[hsl(var(--difficulty-easy))] text-white;
  }
  .badge-moderate {
    @apply bg-[hsl(var(--difficulty-moderate))] text-black;
  }
  .badge-difficult {
    @apply bg-[hsl(var(--difficulty-difficult))] text-white;
  }
  .badge-very-difficult {
    @apply bg-[hsl(var(--difficulty-very-difficult))] text-white;
  }
  .badge-impassable {
    @apply bg-[hsl(var(--difficulty-impassable))] text-white;
  }
  
  /* Custom scrollbar */
  .tactical-scroll {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted)) transparent;
  }
  
  .tactical-scroll::-webkit-scrollbar {
    @apply w-1.5;
  }
  
  .tactical-scroll::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  
  .tactical-scroll::-webkit-scrollbar-thumb {
    @apply bg-muted rounded-full;
  }
  
  /* Loading overlay */
  .loading-overlay {
    @apply absolute inset-0 bg-[hsl(var(--background-deep)/0.9)] backdrop-blur-sm z-50 flex items-center justify-center;
  }
  
  /* Compact button sizing */
  .btn-tactical {
    @apply min-h-[36px] px-3 font-medium transition-all duration-200 text-sm;
  }
  
  /* High contrast focus states */
  .focus-tactical {
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-[hsl(var(--background-panel))];
  }
}

/* Dialog/Modal z-index fix - ensure it's above Leaflet map */
[data-radix-dialog-overlay],
[data-radix-dialog-content] {
  z-index: 9999 !important;
}

/* Leaflet overrides for tactical theme */
.leaflet-container {
  @apply bg-[hsl(var(--background-deep))] font-sans;
}

.leaflet-control-zoom a,
.leaflet-control-layers-toggle {
  @apply !bg-[hsl(var(--background-panel))] !text-foreground !border-border hover:!bg-[hsl(var(--secondary))];
  @apply !w-7 !h-7 !text-sm !leading-7;
}

.leaflet-control-zoom a {
  @apply !w-6 !h-6 !text-xs !leading-6;
}

.leaflet-control-layers {
  @apply !bg-[hsl(var(--background-panel))] !text-foreground !border-border !rounded-md;
}

.leaflet-control-layers-toggle {
  @apply !w-7 !h-7;
  background-size: 16px 16px !important;
}

.leaflet-control-layers-expanded {
  @apply !p-1.5 !text-xs;
}

.leaflet-popup-content-wrapper {
  @apply !bg-[hsl(var(--background-panel))] !text-foreground !rounded-md;
}

.leaflet-popup-tip {
  @apply !bg-[hsl(var(--background-panel))];
}

.leaflet-popup-close-button {
  @apply !text-foreground hover:!text-primary;
}

/* Animation keyframes */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 hsl(var(--primary) / 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px hsl(var(--primary) / 0);
  }
}

@keyframes scan-line {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100%);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s infinite;
}

/* Gulf region boundary popup */
.gulf-boundary-popup .leaflet-popup-content-wrapper {
  @apply !bg-[hsl(var(--card))] !text-foreground;
  border: 1px solid hsl(var(--primary));
}

.gulf-boundary-popup .leaflet-popup-tip {
  @apply !bg-[hsl(var(--card))];
  border-left-color: hsl(var(--primary)) !important;
  border-bottom-color: hsl(var(--primary)) !important;
}
